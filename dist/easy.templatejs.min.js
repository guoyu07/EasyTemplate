/**
 * EasyTemplate
 * 
 * Version 2.1.1
 * 
 * http://easyproject.cn 
 * https://github.com/ushelp
 * 
 * Copyright 2012 Ray [ inthinkcolor@gmail.com ]
 * Released under the MIT license
 * 
 * [Support AMD, CMD, CommonJS, Node.js]
 * 
 */
(function(){"use strict";var a,b="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,d=b||c||Function("return this")(),e="object"==typeof exports&&exports&&!exports.nodeType&&exports,f=e&&"object"==typeof module&&module&&!module.nodeType&&module,g=window.Et,h=/(.)^/,i=/\\|'|\r|\n|\t|\u2028|\u2029/g,j={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},k={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},unescape:{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"}},l=function(a,b){return hasOwnProperty.call(a,b)},m=Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)l(a,c)&&b.push(c);return b},n={escape:new RegExp("["+m(k.escape).join("")+"]","g"),unescape:new RegExp("("+m(k.unescape).join("|")+")","g")},o=Array.prototype.slice,p=function(a){return x.each(o.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},q=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,r=/[^\w$]+/g,s=new RegExp(["\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),t=/^\d[^,]*|,\d[^,]*/g,u=/^,+|,+$/g,v=/^$|,+/,w=function(a){for(var b=a.replace(q,"").replace(r,",").replace(s,"").replace(t,"").replace(u,"").split(v),c={},d=[],e=0;e<b.length;e++)c[b[e]]||"_p"==b[e]||"Et"==b[e]||"out"==b[e]||(c[b[e]]=!0,d.push(b[e]));for(var f="var ";d.length;){var g=d.shift();f+=""+g+"= data."+g+","}return f},g=d.Et,x={tmplSettings:{scriptBegin:"%{",scriptEnd:"}%",outBegin:"{",outEnd:"}",escapeOutBegin:"{-",escapeOutEnd:"}"},escape:function(a){return null==a?"":(""+a).replace(n.escape,function(a){return k.escape[a]})},unescape:function(a){return null==a?"":(""+a).replace(n.unescape,function(a){return k.unescape[a]})},each:function(a,b,c){if(null!=a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)===breaker)return}else for(var f=f(a),d=0,e=f.length;d<e;d++)if(b.call(c,a[f[d]],f[d],a)===breaker)return},template:function(b,c,d){d?(d=p({},d,x.tmplSettings),d={script:new RegExp(d.scriptBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+d.scriptEnd.replace(/(.)/g,"\\$1"),"g"),out:new RegExp(d.outBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+d.outEnd.replace(/(.)/g,"\\$1"),"g"),escapeOut:new RegExp(d.escapeOutBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+d.escapeOutEnd.replace(/(.)/g,"\\$1"),"g")}):(a||(a={script:new RegExp(x.tmplSettings.scriptBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+x.tmplSettings.scriptEnd.replace(/(.)/g,"\\$1"),"g"),out:new RegExp(x.tmplSettings.outBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+x.tmplSettings.outEnd.replace(/(.)/g,"\\$1"),"g"),escapeOut:new RegExp(x.tmplSettings.escapeOutBegin.replace(/(.)/g,"\\$1")+"([\\s\\S]+?)"+x.tmplSettings.escapeOutEnd.replace(/(.)/g,"\\$1"),"g")}),d=a),b=x.unescape(b);var e,f=new RegExp([(d.escapeOut||h).source,(d.out||h).source,(d.script||h).source].join("|")+"|$","g"),g=0,k="_p+='";b.replace(f,function(a,c,d,e,f){return k+=b.slice(g,f).replace(i,function(a){return"\\"+j[a]}),c&&(k+="'+\n((_t=("+c+"))==null?'':Et.escape(_t))+'"),d&&(k+="'+\n((_t=("+d+"))==null?'':_t)+'"),e&&(k+="';"+e+"\n_p+='"),g=f+a.length,a}),k+="';";var l=w(k);k="'use strict';"+l+"_t,_p='',out=function(){_p+=Array.prototype.join.call(arguments, '')};"+k+"return _p";try{e=new Function("data","Et",k)}catch(a){throw a.source="function anonymous(data,Et) {"+k+"}",a}if(c)try{return e(c,x)}catch(a){console.error(a)}var m=function(a){try{return e(a,x)}catch(a){console.error(a)}};return m},noConflict:function(){return d.Et===x&&(d.Et=g),x}};"function"==typeof define&&(define.amd||define.cmd)?define([],function(){return x}):f?((f.exports=x).Et=x,e.Et=x):d.Et=x}).call(this);